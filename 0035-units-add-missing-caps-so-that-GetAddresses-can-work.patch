From 70a3698b99b401e5fa26889aac73e72f6c45523b Mon Sep 17 00:00:00 2001
From: Lennart Poettering <lennart@poettering.net>
Date: Thu, 19 Jun 2014 19:53:16 +0200
Subject: [PATCH] units: add missing caps so that GetAddresses() can work

(cherry picked from commit a55954297dade7b432fd3a4f328f23261621ff79)
---
 units/systemd-machined.service.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/units/systemd-machined.service.in b/units/systemd-machined.service.in
index 3ae0847b..5a890b5b 100644
--- a/units/systemd-machined.service.in
+++ b/units/systemd-machined.service.in
@@ -15,7 +15,7 @@ After=machine.slice
 [Service]
 ExecStart=@rootlibexecdir@/systemd-machined
 BusName=org.freedesktop.machine1
-CapabilityBoundingSet=CAP_KILL
+CapabilityBoundingSet=CAP_KILL CAP_SYS_PTRACE CAP_SYS_ADMIN CAP_SETGID
 WatchdogSec=1min
 PrivateTmp=yes
 PrivateDevices=yes
